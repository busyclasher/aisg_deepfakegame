<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Deepfake Decoder</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Exo+2:wght@300;400;600&display=swap');

  :root {
    --bg: #050a1a;
    --blue-deep: #0d1b3e;
    --blue-mid: #1a3a6e;
    --cyan: #00f5ff;
    --cyan-dim: #00b4cc;
    --purple: #7b2ff7;
    --purple-bright: #a855f7;
    --pink: #ff2d78;
    --gold: #ffd700;
    --green: #00ff88;
    --text: #e0f0ff;
    --glow-cyan: 0 0 20px #00f5ff88, 0 0 40px #00f5ff44;
    --glow-purple: 0 0 20px #7b2ff788, 0 0 40px #7b2ff744;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    font-family: 'Exo 2', sans-serif;
    background: var(--bg);
    color: var(--text);
    min-height: 100vh;
    overflow-x: hidden;
  }

  /* Animated starfield background */
  body::before {
    content: '';
    position: fixed;
    inset: 0;
    background: 
      radial-gradient(ellipse 80% 50% at 50% -20%, #1a3a6e55 0%, transparent 70%),
      radial-gradient(ellipse 40% 40% at 80% 80%, #7b2ff722 0%, transparent 70%);
    z-index: 0;
    pointer-events: none;
  }

  .stars {
    position: fixed;
    inset: 0;
    z-index: 0;
    pointer-events: none;
    overflow: hidden;
  }

  .star {
    position: absolute;
    background: white;
    border-radius: 50%;
    animation: twinkle var(--d, 3s) ease-in-out infinite var(--delay, 0s);
  }

  @keyframes twinkle {
    0%, 100% { opacity: 0.2; transform: scale(1); }
    50% { opacity: 1; transform: scale(1.5); }
  }

  /* Grid floor */
  .grid-floor {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    height: 200px;
    background: 
      linear-gradient(transparent, #0a0f2a88),
      repeating-linear-gradient(90deg, #00f5ff11 0, #00f5ff11 1px, transparent 1px, transparent 40px),
      repeating-linear-gradient(0deg, #00f5ff11 0, #00f5ff11 1px, transparent 1px, transparent 40px);
    transform: perspective(400px) rotateX(60deg);
    transform-origin: bottom;
    z-index: 0;
  }

  /* Screens */
  .screen {
    position: relative;
    z-index: 1;
    min-height: 100vh;
    display: none;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 20px;
    animation: fadeIn 0.5s ease;
  }

  .screen.active { display: flex; }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }

  /* HUD / Score bar */
  .hud {
    position: fixed;
    top: 0; left: 0; right: 0;
    padding: 12px 24px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: linear-gradient(180deg, #050a1a 0%, transparent 100%);
    z-index: 100;
  }

  .hud-score {
    font-family: 'Orbitron', monospace;
    font-size: 1.1rem;
    color: var(--cyan);
    text-shadow: var(--glow-cyan);
  }

  .hud-progress {
    font-family: 'Orbitron', monospace;
    font-size: 0.85rem;
    color: var(--purple-bright);
  }

  .home-btn {
    background: none;
    border: 1px solid var(--cyan-dim);
    color: var(--cyan);
    padding: 6px 14px;
    border-radius: 8px;
    font-family: 'Exo 2', sans-serif;
    cursor: pointer;
    font-size: 0.8rem;
    transition: all 0.2s;
  }
  .home-btn:hover { background: var(--cyan); color: var(--bg); }

  /* Typography */
  .title-main {
    font-family: 'Orbitron', monospace;
    font-weight: 900;
    font-size: clamp(2.5rem, 8vw, 5rem);
    line-height: 1;
    text-align: center;
    color: var(--cyan);
    text-shadow: var(--glow-cyan);
    letter-spacing: 2px;
  }

  .title-sub {
    font-family: 'Orbitron', monospace;
    font-size: clamp(1rem, 3vw, 1.5rem);
    color: var(--gold);
    text-align: center;
    margin-top: 6px;
    letter-spacing: 6px;
    text-transform: uppercase;
  }

  .welcome-text {
    font-size: clamp(0.9rem, 2vw, 1.1rem);
    color: #a0c4e8;
    text-align: center;
    max-width: 500px;
    line-height: 1.7;
    margin: 24px 0 10px;
  }

  /* Panel / Card */
  .panel {
    background: linear-gradient(135deg, #0d1b3ecc, #1a1040cc);
    border: 1px solid #00f5ff33;
    border-radius: 16px;
    padding: 28px;
    backdrop-filter: blur(10px);
    box-shadow: 0 0 40px #00f5ff15, inset 0 1px 0 #00f5ff22;
    max-width: 520px;
    width: 100%;
  }

  /* Buttons */
  .btn-primary {
    font-family: 'Orbitron', monospace;
    font-size: 1rem;
    font-weight: 700;
    padding: 16px 36px;
    border: none;
    border-radius: 50px;
    cursor: pointer;
    transition: all 0.2s;
    text-transform: uppercase;
    letter-spacing: 2px;
  }

  .btn-cyan {
    background: linear-gradient(135deg, #00b4cc, #00f5ff);
    color: var(--bg);
    box-shadow: 0 0 20px #00f5ff66;
  }
  .btn-cyan:hover { transform: scale(1.05); box-shadow: 0 0 30px #00f5ffaa; }

  .btn-purple {
    background: linear-gradient(135deg, var(--purple), var(--purple-bright));
    color: white;
    box-shadow: 0 0 20px #7b2ff766;
  }
  .btn-purple:hover { transform: scale(1.05); box-shadow: 0 0 30px #a855f7aa; }

  .btn-green {
    background: linear-gradient(135deg, #00cc66, var(--green));
    color: var(--bg);
    box-shadow: 0 0 20px #00ff8866;
  }
  .btn-green:hover { transform: scale(1.05); }

  /* Age selection buttons */
  .age-btn {
    display: block;
    width: 100%;
    padding: 16px;
    margin: 10px 0;
    background: linear-gradient(135deg, #0d1b3e, #1a2550);
    border: 1px solid #00f5ff44;
    border-radius: 12px;
    color: var(--text);
    font-family: 'Exo 2', sans-serif;
    font-size: 1.1rem;
    cursor: pointer;
    transition: all 0.25s;
    text-align: center;
  }
  .age-btn:hover, .age-btn.selected {
    background: linear-gradient(135deg, #00b4cc33, #7b2ff733);
    border-color: var(--cyan);
    color: var(--cyan);
    box-shadow: var(--glow-cyan);
    transform: translateX(6px);
  }

  /* Video simulation area */
  .video-frame {
    width: 100%;
    max-width: 420px;
    aspect-ratio: 16/10;
    background: #000;
    border: 2px solid var(--cyan-dim);
    border-radius: 12px;
    overflow: hidden;
    position: relative;
    box-shadow: var(--glow-cyan), 0 20px 40px #00000088;
    margin: 20px 0;
  }

  .video-frame .corner {
    position: absolute;
    width: 20px; height: 20px;
    border-color: var(--cyan);
    border-style: solid;
    z-index: 2;
  }
  .corner.tl { top: 8px; left: 8px; border-width: 2px 0 0 2px; }
  .corner.tr { top: 8px; right: 8px; border-width: 2px 2px 0 0; }
  .corner.bl { bottom: 8px; left: 8px; border-width: 0 0 2px 2px; }
  .corner.br { bottom: 8px; right: 8px; border-width: 0 2px 2px 0; }

  .video-inner {
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    font-size: 1rem;
    color: #a0c4e8;
    padding: 20px;
    text-align: center;
    position: relative;
  }

  .video-icon { font-size: 3rem; margin-bottom: 10px; }

  .scan-line {
    position: absolute;
    top: 0; left: 0; right: 0;
    height: 3px;
    background: linear-gradient(90deg, transparent, var(--cyan), transparent);
    animation: scan 2.5s linear infinite;
    opacity: 0.6;
  }

  @keyframes scan {
    0% { top: 0; }
    100% { top: 100%; }
  }

  /* REAL / FAKE buttons */
  .verdict-btns {
    display: flex;
    gap: 16px;
    margin-top: 16px;
    width: 100%;
    max-width: 420px;
  }

  .verdict-btn {
    flex: 1;
    padding: 18px;
    border: none;
    border-radius: 14px;
    font-family: 'Orbitron', monospace;
    font-size: 1.1rem;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.2s;
    letter-spacing: 2px;
  }

  .verdict-real {
    background: linear-gradient(135deg, #00aa55, var(--green));
    color: var(--bg);
    box-shadow: 0 0 20px #00ff8844;
  }
  .verdict-real:hover { transform: scale(1.04); box-shadow: 0 0 30px #00ff8888; }

  .verdict-fake {
    background: linear-gradient(135deg, #cc1155, var(--pink));
    color: white;
    box-shadow: 0 0 20px #ff2d7844;
  }
  .verdict-fake:hover { transform: scale(1.04); box-shadow: 0 0 30px #ff2d7888; }

  /* Progress bar */
  .progress-bar-wrap {
    width: 100%;
    max-width: 420px;
    height: 6px;
    background: #1a2550;
    border-radius: 10px;
    margin-bottom: 12px;
    overflow: hidden;
  }

  .progress-bar-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--purple), var(--cyan));
    border-radius: 10px;
    transition: width 0.4s ease;
  }

  /* Feedback overlay */
  .feedback-overlay {
    display: none;
    position: fixed;
    inset: 0;
    z-index: 200;
    align-items: center;
    justify-content: center;
    background: #000000bb;
    backdrop-filter: blur(4px);
    animation: fadeIn 0.3s ease;
  }
  .feedback-overlay.show { display: flex; }

  .feedback-card {
    background: linear-gradient(135deg, #0d1b3e, #1a1040);
    border-radius: 24px;
    padding: 40px;
    max-width: 380px;
    width: 90%;
    text-align: center;
    position: relative;
  }

  .feedback-card.correct {
    border: 2px solid var(--green);
    box-shadow: 0 0 40px #00ff8866;
  }

  .feedback-card.wrong {
    border: 2px solid var(--pink);
    box-shadow: 0 0 40px #ff2d7866;
  }

  .feedback-emoji { font-size: 3.5rem; margin-bottom: 12px; }
  .feedback-title {
    font-family: 'Orbitron', monospace;
    font-size: 1.5rem;
    font-weight: 900;
    margin-bottom: 10px;
  }
  .feedback-card.correct .feedback-title { color: var(--green); }
  .feedback-card.wrong .feedback-title { color: var(--pink); }

  .feedback-explanation {
    font-size: 0.95rem;
    color: #a0c4e8;
    line-height: 1.6;
    margin-bottom: 20px;
  }

  /* Clue tags */
  .clue-tag {
    display: inline-block;
    background: #ffffff11;
    border: 1px solid #ffffff33;
    border-radius: 8px;
    padding: 4px 10px;
    font-size: 0.78rem;
    margin: 3px;
    color: #c0d8f0;
  }

  .clue-tag.red { border-color: #ff2d7888; color: #ff8aaa; background: #ff2d7811; }
  .clue-tag.green { border-color: #00ff8888; color: #80ffcc; background: #00ff8811; }

  /* Results screen */
  .score-ring {
    width: 160px; height: 160px;
    border-radius: 50%;
    background: conic-gradient(var(--cyan) 0%, var(--purple) 50%, #1a2550 50%);
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 20px auto;
    position: relative;
    box-shadow: var(--glow-purple);
  }

  .score-ring::before {
    content: '';
    position: absolute;
    inset: 12px;
    border-radius: 50%;
    background: var(--bg);
  }

  .score-ring-text {
    position: relative;
    font-family: 'Orbitron', monospace;
    font-weight: 900;
    font-size: 2.2rem;
    color: var(--cyan);
    text-shadow: var(--glow-cyan);
    z-index: 1;
  }

  .badge-row {
    display: flex;
    justify-content: center;
    gap: 16px;
    flex-wrap: wrap;
    margin: 20px 0;
  }

  .badge {
    background: linear-gradient(135deg, #0d1b3e, #1a1040);
    border: 1px solid #00f5ff44;
    border-radius: 16px;
    padding: 16px 20px;
    text-align: center;
    min-width: 100px;
  }

  .badge-val {
    font-family: 'Orbitron', monospace;
    font-size: 1.6rem;
    font-weight: 900;
    color: var(--cyan);
  }

  .badge-label {
    font-size: 0.75rem;
    color: #6080a0;
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-top: 4px;
  }

  /* Tip list */
  .tip-item {
    display: flex;
    gap: 12px;
    align-items: flex-start;
    background: #ffffff08;
    border-radius: 10px;
    padding: 12px 14px;
    margin: 8px 0;
    font-size: 0.9rem;
    line-height: 1.5;
    color: #c0d8f0;
  }

  .tip-num {
    font-family: 'Orbitron', monospace;
    color: var(--cyan);
    font-weight: 700;
    min-width: 24px;
  }

  /* Section label */
  .section-label {
    font-family: 'Orbitron', monospace;
    font-size: 0.7rem;
    letter-spacing: 4px;
    color: var(--cyan-dim);
    text-transform: uppercase;
    margin-bottom: 6px;
  }

  .divider {
    height: 1px;
    background: linear-gradient(90deg, transparent, #00f5ff44, transparent);
    margin: 20px 0;
  }

  /* Glitch effect for title */
  @keyframes glitch {
    0%, 90%, 100% { text-shadow: var(--glow-cyan); transform: none; }
    92% { text-shadow: -2px 0 #ff2d78, 2px 0 #00f5ff; transform: translateX(-2px); }
    94% { text-shadow: 2px 0 #ff2d78, -2px 0 #00f5ff; transform: translateX(2px); }
    96% { transform: none; }
  }

  .glitch { animation: glitch 4s infinite; }

  /* Floating hexagons deco */
  .hex-deco {
    position: fixed;
    opacity: 0.06;
    font-size: 8rem;
    pointer-events: none;
    animation: float 8s ease-in-out infinite;
    z-index: 0;
  }
  @keyframes float {
    0%, 100% { transform: translateY(0) rotate(0deg); }
    50% { transform: translateY(-30px) rotate(10deg); }
  }

  /* Responsive tweaks */
  @media (max-width: 500px) {
    .title-main { font-size: 2.2rem; }
    .panel { padding: 20px; }
    .verdict-btn { font-size: 0.9rem; padding: 14px; }
  }
</style>
</head>
<body>

<!-- Stars -->
<div class="stars" id="stars"></div>
<div class="grid-floor"></div>

<!-- Hex decorations -->
<div class="hex-deco" style="top:10%; left:5%; --d:8s">‚¨°</div>
<div class="hex-deco" style="top:60%; right:4%; --d:11s; animation-delay:-3s">‚¨°</div>

<!-- HUD (visible during game) -->
<div class="hud" id="hud" style="display:none">
  <div class="hud-score">SCORE: <span id="hud-score-val">0</span></div>
  <div class="hud-progress"><span id="hud-q">1</span> / <span id="hud-total">8</span></div>
  <button class="home-btn" onclick="goHome()">‚åÇ HOME</button>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SCREEN: WELCOME ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="screen active" id="screen-welcome">
  <div class="section-label">Welcome to</div>
  <div class="title-main glitch">DEEPFAKE</div>
  <div class="title-main" style="color:#ffd700; text-shadow: 0 0 20px #ffd70088, 0 0 40px #ffd70044;">DECODER</div>

  <p class="welcome-text">
    We live in a world where videos can lie.<br>
    AI can make <strong style="color:var(--cyan)">anyone</strong> appear to say or do anything online.<br>
    Can you tell what's real?
  </p>

  <div class="panel" style="margin-top:16px; text-align:center">
    <p style="font-size:0.9rem; color:#8090b0; margin-bottom:20px">üéÆ 8 video challenges ¬∑ Spot fakes ¬∑ Earn your badge</p>
    <button class="btn-primary btn-cyan" onclick="showScreen('screen-age')" style="width:100%">PLAY NOW</button>
    <div class="divider"></div>
    <button class="btn-primary btn-purple" onclick="showScreen('screen-learn')" style="width:100%; font-size:0.85rem; padding:12px">LEARN FIRST</button>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SCREEN: AGE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="screen" id="screen-age">
  <div class="section-label">Tell us about yourself</div>
  <div class="title-main" style="font-size:2rem; margin-bottom:24px">WHO ARE YOU?</div>
  <div class="panel">
    <button class="age-btn" onclick="selectAge(this, 'child')">üßí Child (12 &amp; below)</button>
    <button class="age-btn" onclick="selectAge(this, 'teen')">üéì Teen (13‚Äì19)</button>
    <button class="age-btn" onclick="selectAge(this, 'adult')">üíº Adult (20‚Äì49)</button>
    <button class="age-btn" onclick="selectAge(this, 'senior')">üßì Senior (50+)</button>
    <div class="divider"></div>
    <button class="btn-primary btn-cyan" id="start-btn" style="width:100%; opacity:0.4; cursor:not-allowed" disabled onclick="startGame()">START CHALLENGE ‚Üí</button>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SCREEN: LEARN ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="screen" id="screen-learn">
  <div class="section-label">S.U.R.E. Steps</div>
  <div class="title-main" style="font-size:1.8rem; margin-bottom:20px">SPOT DEEPFAKES</div>
  <div class="panel" style="max-width:560px">

    <div class="tip-item">
      <span class="tip-num">üîç</span>
      <div><strong style="color:var(--cyan)">Check the Video.</strong> Look for signs of AI-generated media ‚Äî unnatural blinking, facial warping, or lip-sync mismatch.</div>
    </div>
    <div class="tip-item">
      <span class="tip-num">üìã</span>
      <div><strong style="color:var(--gold)">Evaluate the Content.</strong> What inconsistencies or unusual patterns can you spot? Does the background match? Do shadows make sense?</div>
    </div>
    <div class="tip-item">
      <span class="tip-num">üåê</span>
      <div><strong style="color:var(--purple-bright)">Research the Source.</strong> Where does the video come from? Is it shared by a credible account? When was it first published?</div>
    </div>
    <div class="tip-item">
      <span class="tip-num">‚ö°</span>
      <div><strong style="color:var(--pink)">Evaluate Before You Share.</strong> Even if something seems shocking or true, pause before spreading it. Deepfakes rely on emotional reactions.</div>
    </div>

    <div class="divider"></div>

    <div style="background:#7b2ff711; border:1px solid #7b2ff755; border-radius:10px; padding:14px; margin-bottom:16px; font-size:0.88rem; color:#c0a8f0; line-height:1.6">
      <strong style="color:var(--purple-bright)">ü§ñ Common AI Tell-Signs:</strong><br>
      Unnatural eye movement ¬∑ Too-smooth skin ¬∑ Weird ear/hair edges ¬∑ Audio-lip mismatch ¬∑ Inconsistent lighting on face ¬∑ Blurry teeth ¬∑ Background objects that "swim"
    </div>

    <button class="btn-primary btn-cyan" onclick="showScreen('screen-age')" style="width:100%">I'M READY ‚Äî PLAY ‚Üí</button>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SCREEN: GAME ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="screen" id="screen-game" style="padding-top: 80px;">
  <div class="progress-bar-wrap">
    <div class="progress-bar-fill" id="progress-fill" style="width:0%"></div>
  </div>

  <div style="font-family:'Orbitron',monospace; font-size:0.75rem; color:var(--purple-bright); letter-spacing:3px; margin-bottom:8px; align-self:flex-start; max-width:420px; width:100%">
    WATCH &amp; DETECT
  </div>

  <!-- Video frame -->
  <div class="video-frame">
    <div class="corner tl"></div>
    <div class="corner tr"></div>
    <div class="corner bl"></div>
    <div class="corner br"></div>
    <div class="scan-line"></div>
    <div class="video-inner" id="video-content">
      <!-- filled by JS -->
    </div>
  </div>

  <!-- Scenario text -->
  <div class="panel" style="margin:0 0 12px; text-align:left">
    <div class="section-label" style="margin-bottom:8px">Scenario</div>
    <p id="scenario-text" style="font-size:1rem; line-height:1.65; color:#d0e8ff"></p>
    <div class="divider" style="margin:14px 0 10px"></div>
    <div id="clue-tags" style="text-align:center"></div>
  </div>

  <!-- Verdict buttons -->
  <div class="verdict-btns">
    <button class="verdict-btn verdict-real" onclick="submitAnswer('real')">‚úÖ REAL</button>
    <button class="verdict-btn verdict-fake" onclick="submitAnswer('fake')">üö® FAKE</button>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SCREEN: RESULTS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="screen" id="screen-results">
  <div class="section-label">Mission Complete</div>
  <div class="title-main glitch" style="font-size:2rem">YOUR RESULTS</div>

  <div class="score-ring">
    <div class="score-ring-text" id="result-score">0</div>
  </div>

  <div id="result-grade" style="font-family:'Orbitron',monospace; font-size:1.1rem; text-align:center; margin-bottom:16px; color:var(--gold)"></div>

  <div class="badge-row" id="badge-row"></div>

  <div class="panel" id="result-tips" style="margin-top:8px; text-align:left">
    <div class="section-label">Key Takeaways</div>
    <div id="takeaways-list"></div>
  </div>

  <div style="display:flex; gap:12px; margin-top:20px; flex-wrap:wrap; justify-content:center">
    <button class="btn-primary btn-cyan" onclick="restartGame()">PLAY AGAIN</button>
    <button class="btn-primary btn-purple" onclick="showScreen('screen-learn')">REVIEW TIPS</button>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê FEEDBACK OVERLAY ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="feedback-overlay" id="feedback-overlay">
  <div class="feedback-card" id="feedback-card">
    <div class="feedback-emoji" id="fb-emoji"></div>
    <div class="feedback-title" id="fb-title"></div>
    <div class="feedback-explanation" id="fb-explanation"></div>
    <div id="fb-clues" style="margin-bottom:16px"></div>
    <button class="btn-primary btn-cyan" id="fb-next-btn" onclick="nextQuestion()" style="width:100%">NEXT ‚Üí</button>
  </div>
</div>

<script>
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê DATA ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const SCENARIOS = [
  {
    id: 1,
    label: "REAL",
    isReal: true,
    emoji: "üë©‚Äçüè´",
    description: "A teacher presents a graph on a whiteboard during a recorded lecture. She gestures naturally, blinks normally, and the classroom background is consistent.",
    theme: "Classroom Lecture",
    bg: "#1a3a2a",
    clues: ["Natural blinking pattern", "Consistent lighting", "Background objects stable"],
    clueTypes: ["green","green","green"],
    explanation: "This is a real video. The natural eye movement, consistent audio-lip sync, and stable environment are all indicators of genuine footage.",
    tip: "Real videos have consistent lighting and natural human micro-expressions."
  },
  {
    id: 2,
    label: "FAKE",
    isReal: false,
    emoji: "üéôÔ∏è",
    description: "A viral clip shows a famous politician 'confessing' to a scandal. The audio is slightly ahead of the lip movement and the skin looks unnaturally smooth.",
    theme: "Political Statement",
    bg: "#2a1a1a",
    clues: ["Lip-sync mismatch ‚ö†Ô∏è", "Too-smooth skin texture", "Unnatural blinking ‚ö†Ô∏è"],
    clueTypes: ["red","red","red"],
    explanation: "Deepfake detected! The lip-sync delay and over-smoothed skin are classic AI generation artifacts. Always verify political content through official channels.",
    tip: "Audio-lip mismatch is one of the strongest signs of a deepfake."
  },
  {
    id: 3,
    label: "REAL",
    isReal: true,
    emoji: "üì∞",
    description: "A news reporter delivers a live broadcast from the field. Her hair moves in the wind, background pedestrians move naturally, and audio matches her lips perfectly.",
    theme: "News Broadcast",
    bg: "#1a2a3a",
    clues: ["Hair reacts to wind", "Perfect audio sync", "Natural environment motion"],
    clueTypes: ["green","green","green"],
    explanation: "This is authentic footage. Dynamic environmental elements like moving hair and background motion are extremely difficult for current AI to convincingly fake.",
    tip: "Environmental details like wind, shadows, and background movement are hard for AI to fake convincingly."
  },
  {
    id: 4,
    label: "FAKE",
    isReal: false,
    emoji: "üåê",
    description: "A clip circulates online showing a celebrity 'endorsing' a cryptocurrency. The edges of the face slightly blur and shift, especially when the head turns.",
    theme: "Celebrity Endorsement",
    bg: "#2a1a2a",
    clues: ["Face-edge warping ‚ö†Ô∏è", "Unnatural head rotation ‚ö†Ô∏è", "Context seems suspicious"],
    clueTypes: ["red","red","red"],
    explanation: "This is a deepfake! Face warping at edges and unnatural movement during head turns are telltale AI artifacts. Celebrities are frequently targeted for fake endorsements.",
    tip: "Watch the edges of the face, especially during movement ‚Äî AI struggles to maintain realism during rotation."
  },
  {
    id: 5,
    label: "REAL",
    isReal: true,
    emoji: "üë®‚Äçüíº",
    description: "A CEO gives a press conference statement. The background shows a real office, lighting is slightly imperfect, and there are occasional natural pauses and 'ums'.",
    theme: "Corporate Press Conference",
    bg: "#1a2a1a",
    clues: ["Imperfect natural pauses", "Slightly uneven lighting (real)", "Genuine hesitation"],
    clueTypes: ["green","green","green"],
    explanation: "Real! Genuine human speech has imperfections ‚Äî filler words, pauses, and varied pacing. AI-generated voice tends to sound overly polished and uniform.",
    tip: "Natural human imperfections like 'ums', pauses, and slight lighting inconsistencies are signs of authenticity."
  },
  {
    id: 6,
    label: "FAKE",
    isReal: false,
    emoji: "üì±",
    description: "A viral social media video shows an AI company's founder seemingly announcing a product recall. His teeth look blurred and his ears blend oddly into the background.",
    theme: "Tech Announcement",
    bg: "#2a2a1a",
    clues: ["Blurry teeth ‚ö†Ô∏è", "Ear-background blending ‚ö†Ô∏è", "Suspicious claim content"],
    clueTypes: ["red","red","red"],
    explanation: "Deepfake! AI models consistently struggle to render teeth and ear edges realistically. If the content of the announcement seems shocking, that's an extra red flag.",
    tip: "Look at teeth ‚Äî they are consistently one of the hardest facial features for AI to render."
  },
  {
    id: 7,
    label: "FAKE",
    isReal: false,
    emoji: "üî¨",
    description: "A video shows a 'scientist' claiming a common household product cures cancer. The background shifts slightly between cuts and the voice audio sounds slightly robotic.",
    theme: "Health Misinformation",
    bg: "#2a1a1a",
    clues: ["Background inconsistency ‚ö†Ô∏è", "Robotic voice quality ‚ö†Ô∏è", "Extraordinary health claim"],
    clueTypes: ["red","red","red"],
    explanation: "This is a deepfake used for health misinformation ‚Äî a dangerous combination. Background flickering between cuts and AI-synthesized voice are clear giveaways.",
    tip: "Extraordinary claims combined with video anomalies are a major warning sign. Always verify health information with accredited medical sources."
  },
  {
    id: 8,
    label: "REAL",
    isReal: true,
    emoji: "üé§",
    description: "A recorded interview shows two people in conversation. Both speakers have natural eye contact, spontaneous laughter, and the lighting casts consistent shadows on both faces.",
    theme: "Live Interview",
    bg: "#1a1a2a",
    clues: ["Consistent shadow direction", "Spontaneous reactions", "Natural eye contact between speakers"],
    clueTypes: ["green","green","green"],
    explanation: "This is real footage. Spontaneous social reactions, consistent environmental shadows, and natural gaze patterns between multiple people are very hard to fake with AI.",
    tip: "Multi-person scenes with authentic social interaction are much harder to deepfake than solo clips."
  }
];

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê STATE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
let currentQ = 0;
let score = 0;
let answers = [];
let selectedAge = null;

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê STARS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
(function createStars() {
  const container = document.getElementById('stars');
  for (let i = 0; i < 80; i++) {
    const s = document.createElement('div');
    s.className = 'star';
    const size = Math.random() * 2.5 + 0.5;
    s.style.cssText = `
      width:${size}px; height:${size}px;
      top:${Math.random()*100}%;
      left:${Math.random()*100}%;
      --d:${Math.random()*4+2}s;
      --delay:-${Math.random()*5}s;
    `;
    container.appendChild(s);
  }
})();

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê NAVIGATION ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function showScreen(id) {
  document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  const showHud = id === 'screen-game';
  document.getElementById('hud').style.display = showHud ? 'flex' : 'none';
}

function goHome() {
  if (confirm('Return to home? Your progress will be lost.')) {
    currentQ = 0; score = 0; answers = [];
    showScreen('screen-welcome');
  }
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê AGE SELECTION ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function selectAge(el, age) {
  document.querySelectorAll('.age-btn').forEach(b => b.classList.remove('selected'));
  el.classList.add('selected');
  selectedAge = age;
  const btn = document.getElementById('start-btn');
  btn.disabled = false;
  btn.style.opacity = '1';
  btn.style.cursor = 'pointer';
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê GAME FLOW ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function startGame() {
  currentQ = 0; score = 0; answers = [];
  updateHUD();
  loadQuestion();
  showScreen('screen-game');
}

function restartGame() {
  showScreen('screen-age');
  document.querySelectorAll('.age-btn').forEach(b => b.classList.remove('selected'));
  selectedAge = null;
  const btn = document.getElementById('start-btn');
  btn.disabled = true;
  btn.style.opacity = '0.4';
  btn.style.cursor = 'not-allowed';
}

function loadQuestion() {
  const q = SCENARIOS[currentQ];
  const total = SCENARIOS.length;

  // Progress bar
  document.getElementById('progress-fill').style.width = `${(currentQ / total) * 100}%`;

  // Video frame content
  document.getElementById('video-content').innerHTML = `
    <div class="scan-line"></div>
    <div class="video-icon">${q.emoji}</div>
    <div style="font-family:'Orbitron',monospace; font-size:0.7rem; letter-spacing:3px; color:var(--cyan-dim); margin-bottom:6px">${q.theme}</div>
    <div style="font-size:0.8rem; color:#607090">[ Simulated Video Clip ${String(currentQ+1).padStart(2,'0')}/${String(total).padStart(2,'0')} ]</div>
  `;

  // Scenario text
  document.getElementById('scenario-text').textContent = q.description;

  // Clue tags
  const clueHTML = q.clues.map((c, i) => `<span class="clue-tag ${q.clueTypes[i]}">${c}</span>`).join('');
  document.getElementById('clue-tags').innerHTML = clueHTML;

  updateHUD();
}

function updateHUD() {
  document.getElementById('hud-score-val').textContent = score;
  document.getElementById('hud-q').textContent = currentQ + 1;
  document.getElementById('hud-total').textContent = SCENARIOS.length;
}

function submitAnswer(answer) {
  const q = SCENARIOS[currentQ];
  const userSaysReal = answer === 'real';
  const correct = userSaysReal === q.isReal;

  if (correct) score++;
  answers.push({ q: currentQ, correct, userAnswer: answer, actual: q.isReal ? 'real' : 'fake' });

  showFeedback(correct, q);
}

function showFeedback(correct, q) {
  const card = document.getElementById('feedback-card');
  card.className = 'feedback-card ' + (correct ? 'correct' : 'wrong');

  document.getElementById('fb-emoji').textContent = correct ? 'üéØ' : 'üí°';
  document.getElementById('fb-title').textContent = correct ? 'CORRECT!' : `IT WAS ${q.label}`;
  document.getElementById('fb-explanation').textContent = q.explanation;

  const tipHTML = `<div style="background:#ffffff08; border-radius:8px; padding:10px 12px; font-size:0.82rem; color:#a0c0e0; text-align:left">
    üí° <strong style="color:var(--gold)">Tip:</strong> ${q.tip}
  </div>`;
  document.getElementById('fb-clues').innerHTML = tipHTML;

  const isLast = currentQ >= SCENARIOS.length - 1;
  document.getElementById('fb-next-btn').textContent = isLast ? 'SEE RESULTS ‚Üí' : 'NEXT ROUND ‚Üí';

  document.getElementById('feedback-overlay').classList.add('show');
  updateHUD();
}

function nextQuestion() {
  document.getElementById('feedback-overlay').classList.remove('show');
  currentQ++;
  if (currentQ >= SCENARIOS.length) {
    showResults();
  } else {
    loadQuestion();
  }
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê RESULTS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function showResults() {
  showScreen('screen-results');
  document.getElementById('hud').style.display = 'none';

  const total = SCENARIOS.length;
  const pct = Math.round((score / total) * 100);

  // Score ring
  const ring = document.querySelector('.score-ring');
  ring.style.background = `conic-gradient(var(--cyan) ${pct}%, var(--purple) ${pct}% 100%, #1a2550 100%)`;
  document.getElementById('result-score').textContent = `${score}/${total}`;

  // Grade
  let grade, gradeColor;
  if (pct >= 90) { grade = 'üèÜ EXPERT DECODER'; gradeColor = '#ffd700'; }
  else if (pct >= 70) { grade = 'üéñÔ∏è SKILLED ANALYST'; gradeColor = '#00f5ff'; }
  else if (pct >= 50) { grade = 'üîç LEARNING FAST'; gradeColor = '#a855f7'; }
  else { grade = 'üìö KEEP PRACTISING'; gradeColor = '#ff2d78'; }

  document.getElementById('result-grade').style.color = gradeColor;
  document.getElementById('result-grade').textContent = grade;

  // Badges
  const correct = answers.filter(a => a.correct).length;
  const fakesCaught = answers.filter(a => a.correct && a.actual === 'fake').length;
  const realVerified = answers.filter(a => a.correct && a.actual === 'real').length;

  document.getElementById('badge-row').innerHTML = `
    <div class="badge">
      <div class="badge-val" style="color:var(--green)">${correct}</div>
      <div class="badge-label">Correct</div>
    </div>
    <div class="badge">
      <div class="badge-val" style="color:var(--pink)">${fakesCaught}</div>
      <div class="badge-label">Fakes Caught</div>
    </div>
    <div class="badge">
      <div class="badge-val" style="color:var(--cyan)">${realVerified}</div>
      <div class="badge-label">Real Verified</div>
    </div>
  `;

  // Takeaways
  const tips = [
    "Check audio-lip synchronisation ‚Äî mismatch is a top deepfake signal.",
    "Examine face edges, ears, and teeth for blurring or warping artifacts.",
    "Real videos have natural imperfections: wind, lighting variations, and pauses.",
    "Verify shocking content through official and trusted sources before sharing.",
    "Multi-person scenes with genuine social interaction are much harder to fake."
  ];

  document.getElementById('takeaways-list').innerHTML = tips.map((t, i) => `
    <div class="tip-item" style="margin:6px 0">
      <span class="tip-num">${i+1}</span>
      <div style="font-size:0.88rem">${t}</div>
    </div>
  `).join('');
}
</script>
</body>
</html>
